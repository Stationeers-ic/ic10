version: 1
chips:
  - id: 1
    register_length: 18
    stack_length: 512
    SP: 16
    RA: 17
    registers:
      - name: r1
        value: 10
    stack: [0, 1, 80, 0, -50]
    code: |
      move r0 98
      move r1 85
      l r2 db Setting
      s db Setting 82
      push 0 
      push 0 
      push 80
      push 0
      push 0

devices:
  - id: 1
    PrefabName: StructureCircuitHousingCompact
    name: MyDevice
    chip: 1
    ports:
      - port: default
        network: base
    props:
      - name: Setting
        value: 10
      - name: Mode
        value: 12

  - id: 2
    PrefabName: StructureAutolathe
    ports:
      - port: default
        network: base
    slots:
      - index: 1
        item: ItemIronOre
        amount: 25
    reagents:
      - name: Iron
        amount: 100
networks:
  - id: base
    type: data
    props:
      - name: Channel0
        value: 10
      - name: Channel1
        value: 1
  - id: power
    type: power
